@model IEnumerable<Practical_19.Models.RegisterdUser>
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
	ViewData["Title"] = "Index";
}


<div class="text-center">
	<h1 class="display-4">Welcome to the Practical 19</h1>


	@if (HttpContextAccessor.HttpContext.Request.Cookies["User"] != null)
	{

		<h3></h3>

		<a asp-action="Logout" class="btn btn-danger">Logout</a>

	}
	else
	{
		<a asp-action="Login" class="btn btn-primary">Login</a>

		<a asp-action="Register" class="btn btn-primary">Register</a>

			
	}

	

</div>

<br />
<br />

<div class="text-center">
	<h4>Total Logged In Users</h4>
	<hr />
	<table class="table">
		<thead>
			<tr>
				<th>
					@Html.DisplayNameFor(model => model.Email)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Role)
				</th>
			</tr>
		</thead>
		<tbody>
			@if (ViewBag.Messgage != null)
			{
				<tr>
					<td colspan="2">
						@ViewBag.Messgage
					</td>
				</tr>

			}
			else
			{
				@if (Model.Count() == 0)
				{
					<tr>
						<td colspan="2">
							No Data is Available to show
						</td>
					</tr>
				}
				else
				{

					@foreach (var item in Model)
					{
						<tr>
							<td>
								@Html.DisplayFor(modelItem => item.Email)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Role)
							</td>
						</tr>
					}
				}
			}
			
			
		</tbody>
	</table>
</div>